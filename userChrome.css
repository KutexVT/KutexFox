/* =======================================
   Estética Extra Mejorada de Furina — by Kutex, tuned by Grok
   Azul saturado y morado
   ======================================= */

:root {
  /* Paleta Nueva: Azul saturado primary, Morado secondary */
  --primary-dark: #0a0f1a;
  --primary-mid: #112033;
  --primary-accent1: #007fff; /* Azul saturado */
  --primary-accent2: #a020f0; /* Morado vibrante */
  --primary-text: #d9e6ff;
  --primary-shadow: rgba(160, 32, 240, 0.2); /* Toque morado en sombras */

  /* Opciones visuales */
  --primary-radius: 12px;
  --primary-border: 2px;
}

/* --- Animación global para entrada de elementos --- */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* --- General UI --- */
#navigator-toolbox {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary-mid)) !important;
  border: none !important;
  box-shadow: 0 0 30px rgba(0,0,0,0.6) inset !important;
  backdrop-filter: blur(8px) saturate(1.3);
  animation: slideIn 0.4s ease-out; /* Entrada suave al cargar */
}

/* --- Pestañas (arriba, con animación) --- */
#TabsToolbar {
  order: 0 !important;
  background: transparent !important;
  border-bottom: 1px solid rgba(0,127,255,0.35) !important;
  animation: slideIn 0.4s ease-out; /* Animación al cargar */
}

.tabbrowser-tab {
  border-radius: var(--primary-radius) !important;
  margin-inline: 5px !important;
  border: var(--primary-border) solid transparent !important;
  transition: all 0.25s ease, transform 0.2s ease, opacity 0.2s ease !important;
  color: var(--primary-text) !important;
  background: rgba(17, 32, 51, 0.5) !important;
  opacity: 0.8;
  transform: scale(0.98);
}

.tabbrowser-tab[selected="true"] {
  background: linear-gradient(45deg, var(--primary-accent1), var(--primary-accent2)) !important;
  border: 2px solid var(--primary-accent2) !important;
  color: #fff !important;
  text-shadow: 0 0 8px var(--primary-accent2);
  box-shadow: 0 0 10px var(--primary-accent2);
  opacity: 1;
  transform: scale(1);
}

/* --- Hover efecto --- */
.tabbrowser-tab:hover:not([selected="true"]) {
  border-color: var(--primary-accent1) !important;
  background: rgba(0,127,255,0.25) !important;
  opacity: 0.9;
  transform: scale(1);
}

/* --- Animación para el contenido de la pestaña --- */
.browserContainer {
  position: relative;
}

#tabbrowser-tabs ~ #tabbrowser-browsers {
  transition: opacity 0.3s ease, transform 0.3s ease !important;
}

#tabbrowser-tabs ~ #tabbrowser-browsers browser[selected="true"] {
  opacity: 1 !important;
  transform: translateX(0) !important;
}

#tabbrowser-tabs ~ #tabbrowser-browsers browser:not([selected="true"]) {
  opacity: 0 !important;
  transform: translateX(20px) !important;
  pointer-events: none;
}

/* --- Barra de navegación (con animación) --- */
#nav-bar {
  background: rgba(10, 15, 25, 0.7) !important;
  backdrop-filter: blur(12px) brightness(1.1);
  border-bottom: 1px solid rgba(160,32,240,0.25);
  order: 1 !important;
  animation: slideIn 0.5s ease-out; /* Entrada suave al cargar */
}

#nav-bar .titlebar-buttonbox-container {
  display: none !important;
}

/* --- Scrollbar (con animación más fluida) --- */
scrollbar {
  transition: opacity 0.3s ease !important;
  background-color: rgba(0,127,255,0.15) !important;
  border-radius: 10px !important;
}

scrollbar thumb {
  background-color: rgba(0,127,255,0.3) !important;
  border-radius: 10px !important;
  transition: background-color 0.2s ease, transform 0.2s ease !important;
}

scrollbar thumb:hover {
  background-color: rgba(160,32,240,0.5) !important;
  transform: scaleY(1.05); /* Leve estiramiento al hover */
}

/* --- Barra de título --- */
#titlebar {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary-mid)) !important;
  border-bottom: 1px solid var(--primary-accent2) !important;
  box-shadow: 0 0 10px var(--primary-shadow);
  animation: slideIn 0.4s ease-out; /* Animación al cargar */
}

.titlebar-buttonbox-container {
  display: flex !important;
  padding: 4px !important;
}

.titlebar-button {
  border-radius: var(--primary-radius) !important;
  transition: all 0.2s ease, transform 0.15s ease !important;
  background: rgba(17, 32, 51, 0.4) !important;
  transform: scale(1);
}

.titlebar-button:hover {
  background: var(--primary-accent2) !important;
  box-shadow: 0 0 5px var(--primary-accent1);
  animation: bounce 0.3s ease; /* Efecto bounce al hover */
}

/* --- Sombra suave global --- */
#navigator-toolbox::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  box-shadow: 0 0 70px var(--primary-shadow) inset;
  pointer-events: none;
  animation: slideIn 0.6s ease-out; /* Animación para la sombra */
}

/* --- Barra de búsqueda con animación mejorada --- */
.urlbarView {
  background: rgba(17,32,51,0.5) !important;
  border-radius: var(--primary-radius) !important;
  box-shadow: 0 0 5px var(--primary-shadow);
  animation: slideIn 0.5s ease-out; /* Entrada suave */
}

#urlbar-input-container {
  border: 1px solid var(--primary-accent1) !important;
  transition: box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
  transform: translateY(0);
}

#urlbar-input-container:hover {
  box-shadow: 0 0 10px var(--primary-accent2);
  transform: translateY(-2px); /* Levita ligeramente al hover */
}

#urlbar-input-container[focused] {
  box-shadow: 0 0 12px var(--primary-accent1);
  border-color: var(--primary-accent2) !important;
  transform: translateY(-2px); /* Levita al estar activo */
}

/* Mejoras extras: Compatibilidad Librewolf y fixes */
#navigator-toolbox::part(toolbox) {
  --toolbar-bgcolor: transparent !important;
}